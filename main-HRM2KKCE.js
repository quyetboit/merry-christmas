import{A as w,B as Q,C as u,D as f,E as g,F as m,G as j,H as q,I as W,J as B,K as G,L as Y,M as $,N as L,a as M,b as I,c as S,d as D,e as R,f as N,g as k,h as C,i as O,j as T,k as P,l as z,m as d,n as l,o as v,p as H,q as y,r as p,s as a,t as r,u as c,v as A,w as x,x as F,y as h,z as V}from"./chunk-ML77G436.js";var b=(()=>{let n=class n{constructor(t,e){this.httpClient=t,this.datePipe=e,this.token="6884668324:AAGiaDDxbrzZBWjb7jxxXLZ0-wbqEdF7JhA",this.chat_id="-4069813378",this.ip="unknow user init",this.BASE_URL="unknow user",this.BASE_URL=`https://api.telegram.org/bot${this.token}`}getIp(){this.httpClient.get("https://api.ipify.org?format=json").subscribe(t=>{let e=t?.ip||"unknow user";e=e.replace(/[.]/g,""),this.ip=e.slice(-5)})}sendMessage(t){let e=this.datePipe.transform(new Date().toString(),"ddMMyyyyHHmmss");return this.httpClient.get(`${this.BASE_URL}/sendMessage`,{params:{chat_id:this.chat_id,text:`${this.ip}: ${t} ${e}`}})}};n.\u0275fac=function(e){return new(e||n)(k(q),k(m))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var ie=["wrapText"],ne=["canvas"],se=["btnNo"],oe=["btnYes"];function ae(i,n){i&1&&(a(0,"div",1),c(1,"div",10,11),r())}function re(i,n){if(i&1){let E=A();a(0,"div",12)(1,"div",13),x("click",function(){O(E);let e=F();return T(e.handleClickGift())}),c(2,"app-gift"),r()()}}function le(i,n){i&1&&(a(0,"div",14),c(1,"app-heart"),r())}function ce(i,n){if(i&1){let E=A();a(0,"div",15)(1,"div",16)(2,"h1"),h(3,"V\u1EADy c\xF2n ch\u1EDD g\xEC n\u1EEFa m\xE0 kh\xF4ng inbox cho tui bi\u1EBFt k\u1EBFt qu\u1EA3 \u0111i =))"),r(),a(4,"div",17)(5,"button",18),x("click",function(){O(E);let e=F();return T(e.close())}),h(6,"\u0110\xF3ng"),r()()()()}}function he(i,n){i&1&&(a(0,"div",1)(1,"div",19,11)(3,"h1",4),h(4,"Merry Christmas"),r(),a(5,"h1",4),h(6,"\u0110\u1ED7 Th\u1ECB Huy\u1EC1n Trang"),r(),a(7,"h1",4),h(8,"Wishing you the best"),r()()())}var pe=i=>({question:!0,hidden:i}),J=(()=>{let n=class n{constructor(t){this.telegramService=t,this.flakes=[],this.textRender=["Merry Christmas","\u0110\u1ED7 Th\u1ECB Huy\u1EC1n Trang","Wishing you the best"],this.headElement=null,this.textElement=null,this.cursorElement=null,this.typedTextDone$=new M,this.isShowWish=!0,this.isShowGift=!1,this.isShowHeart=!1,this.isShowQuestion=!1,this.isShowPopup=!1,this.isShowWishFinal=!1,this.currentIndexOfArray=0,this.currentIndexOfText=0,this.hoverTimes=0,this.sendNotify$=new M}ngAfterViewInit(){this.typedTextDone$.subscribe(()=>{setTimeout(()=>{this.isShowGift=!0},2e3)}),this.sendNotify$.pipe(D()).subscribe(t=>{console.log("Resss: ",t),t==="ok"?this.telegramService.sendMessage("CTR").subscribe():this.telegramService.sendMessage("HTDC").subscribe()}),this.resiszeSubscription=S(window,"resize").subscribe(t=>{this.canvasElement.nativeElement.width=document.body.clientWidth,this.canvasElement.nativeElement.height=document.body.clientHeight}),this.canvasElement.nativeElement.width=document.body.clientWidth,this.canvasElement.nativeElement.height=document.body.clientHeight,this.createCanvas(),this.snallFallInterval=setInterval(()=>{this.snowFall()},20),setTimeout(()=>{this.type()},1e3),S(this.btnNo.nativeElement,"mousemove").pipe(I(()=>this.btnNo.nativeElement.style.left||0),R(400)).subscribe(()=>{this.sendNotify$.next("nok"),this.hoverTimes<5?this.moveButton():(this.switchButton(),this.hoverTimes=0),this.hoverTimes++})}createCanvas(){this.ctx=this.canvasElement.nativeElement.getContext("2d"),this.imageElement=new Image,this.imageElement.src="./assets/images/christmas.jpg"}snowFall(){this.ctx.drawImage(this.imageElement,0,0,window.innerWidth,window.innerHeight),this.addFlakes(),this.addSnow()}addFlakes(){let t=Math.ceil(Math.random()*this.canvasElement.nativeElement.width),e=Math.ceil(Math.random()*5),s=10*Math.PI;this.flakes.push({x:t,y:0,speed:e,radius:s})}addSnow(){for(let t=0;t<this.flakes.length;t++){let e=this.flakes[t];e.y+=e.speed/2,e.y>window.innerHeight&&this.flakes.splice(t,1),this.ctx.beginPath(),this.ctx.fillStyle="rgba(255, 255, 255, 0.8)",this.ctx.arc(e.x,e.y,e.speed*.8,0,e.radius),this.ctx.fill()}}type(){if(this.currentIndexOfArray<this.textRender.length){if(this.wrapTextElement.nativeElement.style.padding="14px 60px",this.headElement||(this.headElement=document.createElement("h1"),this.textElement=document.createElement("span"),this.cursorElement=document.createElement("span"),this.headElement.className="text-main",this.cursorElement.className="cursor",this.headElement.appendChild(this.textElement),this.headElement.appendChild(this.cursorElement),this.wrapTextElement.nativeElement.appendChild(this.headElement)),this.currentIndexOfText<this.textRender[this.currentIndexOfArray].length){let t=this.textRender[this.currentIndexOfArray].charAt(this.currentIndexOfText),e=this.headElement.querySelector("span");e.innerHTML+=t,this.currentIndexOfText++}else this.cursorElement&&this.currentIndexOfArray<this.textRender.length-1&&this.headElement.removeChild(this.cursorElement),this.headElement=null,this.currentIndexOfText=0,this.currentIndexOfArray++;setTimeout(()=>{this.type()},100)}else this.typedTextDone$.next()}handleClickGift(){this.isShowHeart=!0,this.isShowGift=!1,this.telegramService.sendMessage("OTG").subscribe(),setTimeout(()=>{this.isShowWish=!1,this.isShowQuestion=!0},1e4)}switchButton(){new Audio("./assets/sounds/duck.mp3").play();let e=this.btnNo.nativeElement.style.left,s=this.btnNo.nativeElement.style.top,o=this.btnYes.nativeElement.style.left,_=this.btnYes.nativeElement.style.top;this.btnNo.nativeElement.style.left=o,this.btnNo.nativeElement.style.top=_,this.btnYes.nativeElement.style.left=e,this.btnYes.nativeElement.style.top=s}moveButton(){var t=new Audio("./assets/sounds/Swish1.mp3");if(t.play(),screen.width<=600)var e=Math.random()*300,s=Math.random()*500;else var e=Math.random()*500,s=Math.random()*500;var o=e+"px",_=s+"px";this.btnNo.nativeElement.style.left=o,this.btnNo.nativeElement.style.top=_}handleRecive(){this.isShowPopup=!0,this.sendNotify$.next("ok")}close(){this.isShowWish=!1,this.isShowGift=!1,this.isShowHeart=!0,this.isShowQuestion=!1,this.isShowPopup=!1,this.isShowWishFinal=!0}ngOnDestroy(){this.resiszeSubscription?.unsubscribe(),clearTimeout(this.typingTimeOut),clearInterval(this.snallFallInterval)}};n.\u0275fac=function(e){return new(e||n)(v(b))},n.\u0275cmp=C({type:n,selectors:[["app-main"]],viewQuery:function(e,s){if(e&1&&(f(ie,5,d),f(ne,7,d),f(se,5,d),f(oe,5,d)),e&2){let o;u(o=g())&&(s.wrapTextElement=o.first),u(o=g())&&(s.canvasElement=o.first),u(o=g())&&(s.btnNo=o.first),u(o=g())&&(s.btnYes=o.first)}},standalone:!0,features:[w],decls:16,vars:9,consts:[["canvas",""],["id","wish"],["class","gift"],["class","heart"],[1,"text-main"],[1,"button","no"],["btnNo",""],[1,"button","yes",3,"click"],["btnYes",""],["class","popup"],[1,"wrap-text"],["wrapText",""],[1,"gift"],[1,"gift-appear-animation",3,"click"],[1,"heart"],[1,"popup"],[1,"frame"],[2,"text-align","end"],[3,"click"],[1,"wrap-text","finnal"]],template:function(e,s){e&1&&(c(0,"canvas",null,0),y(2,ae,3,0,"div",1)(3,re,3,0,"div",2)(4,le,2,0,"div",3),a(5,"div")(6,"h1",4),h(7," L\xE0m g\xEC c\xF3 qu\xE0 g\xEC, ch\u1EC9 c\xF3 t\u1EA5m th\xE2n trong tr\u1EAFng g\xECn gi\u1EEF h\u01A1n 20 n\u0103m, c\xF3 l\u1EA5y kh\xF4ng =))) "),r(),a(8,"button",5,6),h(10,"Ch\xEA!!!"),r(),a(11,"button",7,8),x("click",function(){return s.handleRecive()}),h(13,"Nh\u1EADnnnnnn <333"),r()(),y(14,ce,7,0,"div",9)(15,he,9,0,"div",1)),e&2&&(l(2),p(2,s.isShowWish?2:-1),l(1),p(3,s.isShowGift?3:-1),l(1),p(4,s.isShowHeart?4:-1),l(1),H(Q(7,pe,!s.isShowQuestion)),l(9),p(14,s.isShowPopup?14:-1),l(1),p(15,s.isShowWishFinal&&!s.isShowWish?15:-1))},dependencies:[$,L],styles:["#wish[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:30px 4px}.wrap-text[_ngcontent-%COMP%]{background-color:#0009;display:inline-flex;flex-direction:column;text-align:center}.wrap-text.finnal[_ngcontent-%COMP%]{background-color:unset}.test-color[_ngcontent-%COMP%]{width:100px;height:100px;background-image:linear-gradient(135deg,#cc0000,#556b2f,#4682b4,#ffa500,#808080)}.gift-appear-animation[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_appearance ease-in-out .5s}.heart[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%]{position:absolute;inset:0}.gift[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;z-index:999}.heart[_ngcontent-%COMP%]{background-color:#0009}@keyframes _ngcontent-%COMP%_appearance{0%{transform:scale(0);transform:translateY(-300px)}80%{transform:scale(1.4);transform:translateY(100px)}to{transform:1;transform:translateY(0)}}.question[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;justify-content:center;padding:30px 4px;z-index:1001;animation:all linear 2s}.question[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;max-width:800px;text-align:center}.question[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:4px;padding:.5rem 1rem;font-size:1.4rem;line-height:1.5;border-radius:.3rem;border:none;outline:none;cursor:pointer;position:absolute;top:40vh;text-align:center;-webkit-transition:all .1s ease-out;font-family:dancing-font,sans-serif}.question[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{opacity:.8}.question[_ngcontent-%COMP%]   .button.yes[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;right:30%;width:180px}.question[_ngcontent-%COMP%]   .button.no[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;right:60%;width:120px}.popup[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;justify-content:center;align-items:center;padding:0 6px;font-family:dancing-font,sans-serif;z-index:1005}.popup[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:inherit}.popup[_ngcontent-%COMP%]   .frame[_ngcontent-%COMP%]{display:inline-block;width:400px;background-color:#fff;flex-grow:0;padding:20px 30px;max-width:100%;border-radius:4px}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;border-radius:4px;font-size:1.2rem;padding:4px 18px;line-height:1.5;border-radius:.3rem;border:none;outline:none;cursor:pointer;text-align:center;background-color:#3498db;color:#fff;font-family:inherit}@media only screen and (max-width: 500px){.button.no[_ngcontent-%COMP%]{position:absolute;display:inline-block;left:7%;top:40vh;font-size:14px;padding:3px;-webkit-transition:all .1s ease-out}.button.yes[_ngcontent-%COMP%]{position:absolute;display:inline-block;left:58%;top:40vh;font-size:14px;padding:3px;-webkit-transition:all .3s ease-out}}"]});let i=n;return i})();var X=[{path:"single",loadChildren:()=>import("./chunk-CJVQPMNQ.js").then(i=>i.singgleRoutes)},{path:"",component:J}];var K={providers:[m,Y(X),z([W])]};var me=["audio"];function de(i,n){i&1&&(P(),a(0,"svg",3),c(1,"path",4),r())}function ue(i,n){i&1&&(P(),a(0,"svg",5),c(1,"path",6),r())}var ee=(()=>{let n=class n{constructor(t,e){this.telegramService=t,this.datePipe=e,this.isMute=!0,this.telegramService.getIp()}ngAfterViewInit(){this.telegramService.sendMessage("CNT").subscribe(),this.intervalTimer=setInterval(()=>{this.telegramService.sendMessage("OTS").subscribe()},12e4)}handleClickVolumn(){if(this.isMute){this.isMute=!1,this.audio.nativeElement.currentTime=0,this.audio.nativeElement.play();return}this.isMute=!0,this.audio.nativeElement.pause()}ngOnDestroy(){clearInterval(this.intervalTimer)}};n.\u0275fac=function(e){return new(e||n)(v(b),v(m))},n.\u0275cmp=C({type:n,selectors:[["app-root"]],viewQuery:function(e,s){if(e&1&&f(me,7,d),e&2){let o;u(o=g())&&(s.audio=o.first)}},standalone:!0,features:[V([m]),w],decls:6,vars:1,consts:[["src","../assets/sounds/christmas.mp3","loop","",2,"display","none"],["audio",""],[1,"speaker",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","36","viewBox","0 0 640 512"],["opacity","1","fill","#fff","d","M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"],["xmlns","http://www.w3.org/2000/svg","height","36","viewBox","0 0 576 512"],["opacity","1","fill","#fff","d","M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]],template:function(e,s){e&1&&(c(0,"router-outlet")(1,"audio",0,1),a(3,"div",2),x("click",function(){return s.handleClickVolumn()}),y(4,de,2,0,":svg:svg",3)(5,ue,2,0),r()),e&2&&(l(4),p(4,s.isMute?5:4))},dependencies:[j,G],styles:[".speaker[_ngcontent-%COMP%]{position:fixed;top:30px;left:30px;width:50px;height:50px;cursor:pointer;z-index:999999}.speaker[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}"]});let i=n;return i})();B(ee,K).catch(i=>console.error(i));
